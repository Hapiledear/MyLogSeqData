- State是Flink中的顶级概念.用于保存中间计算结果或者缓存数据
	- eg. 需要keep之前的数据,算最近一个小时内的总PV,这些数据就是stateful(有状态的),它所对应的计算就是有状态计算
- 如果计算需要依赖于之前或者后续的事件，则是有状态计算
- State是实现有状态计算下的Exactly-Once的基础 [[Flink 应用容错]]
- 如何使用状态?
	- 需要自定义RichFunction 或 ProcessFunction [[Flink UDF]]
	- code demo
- 使用场景
	- Sum 求和
	- 去重
	- [[Flink CEP]]中的模式检测
		- 处理事件的规则，被叫作模式（Pattern）
- 状态类型
	- keyed state
		- valueState 单个值
		- listState一组值
		- mapState k-v对
		- reducing \ aggregating state 聚合操作,最终保存单个值
	- non-keyed state
		- listState
		- broadcastState 广播状态
			- 来自一个流的数据需要被广播到所有下游任务.eg 规则下发
- 状态访问
	- 只能访问上述State,而无法访问内部State(InternalXxxState)
	- 通过`OperatorStateStore` 和`KeyedStateStore`访问存储的数据,其本质是包装了一层`StateBackend`
- 状态存储
- 状态重分布
- 状态过期清理